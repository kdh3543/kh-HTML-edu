<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Document</title>
  <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
  <style>
    * {
      box-sizing: border-box;
      margin: 0;
      padding: 0;
    }

    img {
      width: 100px;
      height: 100px;
      margin: 0;
      padding: 0;
    }

    .container {
      margin: auto;
      width: 500px;
      height: 600px;
    }

    .top {
      overflow: hidden;
    }

    .chat {
      overflow: auto;
      position: relative;
      width: 500px;
      height: 500px;
      float: left;
      background-color: #9bbbd4;
    }

    .chatWrap {
      padding: 0;
      position: absolute;
      top: 0;
      width: 500px;
      height: 350px;
      float: left;
      display: none;
      background-color: #edf6fd;
    }

    .line {
      background-color: #F7E600;
      width: fit-content;
      max-width: 250px;
      word-break: break-all;
      margin: 7px;
      padding: 7px;
      border-radius: 10px;
    }

    .input {
      height: 100px;
      overflow: hidden;
    }

    .inputTxt {
      width: 80%;
      height: 100%;
      float: left;
      overflow-y: auto;
    }

    .icon {
      width: 20%;
      height: 100%;
      float: left;
    }

    #icon {
      width: 100%;
      height: 100%;
    }

    .cloneImg {
      width: 50px;
      height: 50px;
    }
  </style>
</head>

<body>
  <div class="container">
    <div class="top">
      <div class="chat">

      </div>
      <div class="chatWrap">
        <img src="1.gif" class="imoticon">
        <img src="2.gif" class="imoticon">
        <img src="3.gif" class="imoticon">
        <img src="4.gif" class="imoticon">
        <img src="5.gif" class="imoticon">
      </div>
    </div>
    <div class="input">
      <div class="inputTxt" contenteditable="true">

      </div>
      <div class="icon">
        <button id="icon">ICON</button>
      </div>
    </div>
  </div>
  <script>
    $("#icon").on("click", function(){
      $(".chatWrap").slideToggle(1000);
    })

    $(".inputTxt").on("keypress", function (key) {
      $(".chat").scrollTop($(".chat")[0].scrollHeight);
      if (key.keyCode == 13 && key.shiftKey == false) {
        if($(".inputTxt").html()==""){
          return false;
        }

        let div = $("<div>");
        let button = $("<button>");
        button.addClass("delBtn");
        button.text("X");
        button.css("color", "red");
        button.css("display", "none");
        div.addClass("line");
        div.append($(".inputTxt").html());
        div.append(button);

        $(".chat").append(div);
        $(".inputTxt").html("");
        $(".chatWrap").slideUp(1000);
        return false; 
      }
    })

    $(".imoticon").on("click", function () {
      let imgClone = $(this).clone();
      imgClone.addClass("cloneImg");
      $(".inputTxt").append(imgClone); 

      })
  </script>
</body>
</html>